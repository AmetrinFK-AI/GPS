# Маршрут по точкам — Streamlit-приложение

Готовое веб‑приложение (Streamlit) для загрузки трека (CSV/GPX/GeoJSON), 
анимации маршрута на карте OpenStreetMap (через Folium) и расчёта метрик 
(дистанция, длительность, скорость и т.д.).

## Возможности
- Загрузка файла: CSV, GPX, GeoJSON (или использование демо-файла).
- Авто‑распознавание схемы колонок (lat/lon или `latlng`, timestamp).
- Очистка и сортировка по времени (если есть).
- Фильтр «телепортов» по порогу скорости (км/ч).
- Метрики: общая дистанция, число точек, длительность, средняя/макс скорость.
- Анимация маршрута на карте OSM (Folium AntPath) + метки старта/финиша.
- При наличии времени — тайм‑слайдер (TimestampedGeoJson).
- Экспорт очищенного трека (CSV) и GeoJSON, а также сводки (JSON).

## Запуск

```bash
# 1) Установка зависимостей (желательно в виртуальном окружении)
pip install -r requirements.txt

# 2) Запуск приложения
streamlit run streamlit_app.py
```

Откроется браузер с интерфейсом. Загрузите свой файл или выберите демо‑файл.

## Форматы входа

### CSV
- Поддерживаются варианты:
  - колонки: `lat`, `lon` (или `latitude`/`longitude`/`x`/`y` — регистронезависимо)
  - одна колонка `latlng` в формате `lat,lon`
- При наличии колонок времени (`timestamp`/`time`/`datetime`/`date`) — используется сортировка по времени и расчёт длительности/скоростей.
- Дополнительно поддерживается колонка `elevation`/`alt` (если есть — будет отображено в статистике).

### GPX
- Треки, точки и сегменты парсятся автоматически (через `gpxpy`).

### GeoJSON
- Поддерживаются `Point` (массив точек) и `LineString`.

## Demo
В папке `data/` лежит `demo_results_13.csv` — пример данных. Можно включить чекбокс «Использовать демо‑файл».

## Лицензия тайлов
Используются тайлы OpenStreetMap по умолчанию. Пожалуйста, уважайте их политику использования (https://operations.osmfoundation.org/policies/tiles/).
